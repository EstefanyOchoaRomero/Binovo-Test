<?xml version="1.0" encoding="UTF-8"?>

<!-- <odoo>


    <template id="website_crm_form_inherit_source_type" inherit_id="website_crm.contactus_form">
        <xpath expr="//form[@id='contactus_form']//input[@name='name']" position="attributes">
            <attribute name="t-att-value">request.params.get('name') or 'Sin Nombre'</attribute>
        </xpath>
        <xpath expr="//form[@id='contactus_form']//div[input[@name='phone']]" position="replace"/>
        <xpath expr="//form[@id='contactus_form']//input[@name='email_from']" position="attributes">
            <attribute name="type">email</attribute>
        </xpath>
        <xpath expr="//form[@id='contactus_form']/div[contains(@class,'s_website_form_rows')]" position="inside">
            <div class="form-group col-12 col-md-6">
                <label for="source_type">How did you find us?</label>
                <select name="source_type" class="form-control" required="1">
                    <option value="">Select...</option>
                    <option value="third_party">Terceros</option>
                    <option value="social">Redes Sociales</option>
                    <option value="internet">Búsqueda en Internet</option>
                </select>
            </div>
        </xpath>
    </template>


</odoo> -->


<odoo>


    <template id="website_crm_form_inherit_source_type" inherit_id="website_crm.contactus_form">
        <!-- Hacer Name opcional visualmente -->
        <xpath expr="//form[@id='contactus_form']//input[@name='name']" position="replace">
            <input type="text" name="name" class="form-control" placeholder="Your name"/>
        </xpath>
        <!-- Quitar Phone -->
        <xpath expr="//form[@id='contactus_form']//div[input[@name='phone']]" position="replace"/>

        <!-- Hacer Email tipo email -->
        <xpath expr="//form[@id='contactus_form']//input[@name='email_from']" position="attributes">
            <attribute name="type">email</attribute>
        </xpath>

        <!-- Agregar Source Type obligatorio -->
        <xpath expr="//form[@id='contactus_form']/div[contains(@class,'s_website_form_rows')]" position="inside">
            <div class="form-group col-12 col-md-6">
                <label for="source_type">How did you find us?</label>
                <select name="source_type" class="form-control" required="1">
                    <option value="">Select...</option>
                    <option value="third_party">Terceros</option>
                    <option value="social_media">Redes Sociales</option>
                    <option value="internet">Búsqueda en Internet</option>
                </select>
            </div>
        </xpath>
    </template>

    <record id="view_crm_lead_form_inherit_source_type" model="ir.ui.view">
        <field name="name">crm.lead.form.inherit.source.type</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_lead_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//sheet/group/group/field[@name='partner_id']" position="after">
                <field name="source_type"/>
            </xpath>
        </field>
    </record>


</odoo>



